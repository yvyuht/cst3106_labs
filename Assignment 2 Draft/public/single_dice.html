<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Styles for the dice container and individual dice */
        #dice-container {
            display: flex;
            gap: 30px;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

             
.dice {
    
    width: 100px;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f7a7a7;
    border-radius: 10%;
    position: relative;
    transition: transform 1s;
}

.dot {
    position: absolute;
    width: 15px;
    height: 15px;
    background-color: #fff;
    border-radius: 50%;
}

#roll-button {
    position: absolute;
    padding: 20px;
    background-color: #668ddb;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 1em;
    border-radius: 12px;
    text-align: center;
}

#roll-button:hover {
    background-color: #fdff93;
    color: #000;
}

    </style>
    <title>Roll a Dice</title>
 
</head>

<body>
    <div id="dice-container">
        <div class="dice" data-value="6">
            <div class="dot" style="top: 25%; left: 25%;"></div>
            <div class="dot" style="top: 25%; right: 25%;"></div>
            <div class="dot" style="top: 50%; left: 25%; transform: translate(0, -50%);"></div>
            <div class="dot" style="top: 50%; right: 25%; transform: translate(0, -50%);"></div>
            <div class="dot" style="bottom: 25%; left: 25%;"></div>
            <div class="dot" style="bottom: 25%; right: 25%;"></div> 
        </div>
        <div class="dice" data-value="6">
                <div class="dot" style="top: 25%; left: 25%;"></div>
                <div class="dot" style="top: 25%; right: 25%;"></div>
                <div class="dot" style="top: 50%; left: 25%; transform: translate(0, -50%);"></div>
                <div class="dot" style="top: 50%; right: 25%; transform: translate(0, -50%);"></div>
                <div class="dot" style="bottom: 25%; left: 25%;"></div>
                <div class="dot" style="bottom: 25%; right: 25%;"></div> 
        </div>
    <div class="dice" data-value="6">
    
            <div class="dot" style="top: 25%; left: 25%;"></div>
            <div class="dot" style="top: 25%; right: 25%;"></div>
            <div class="dot" style="top: 50%; left: 25%; transform: translate(0, -50%);"></div>
            <div class="dot" style="top: 50%; right: 25%; transform: translate(0, -50%);"></div>
            <div class="dot" style="bottom: 25%; left: 25%;"></div>
            <div class="dot" style="bottom: 25%; right: 25%;"></div> 
    </div>
    <div class="dice" data-value="6">
        
            <div class="dot" style="top: 25%; left: 25%;"></div>
            <div class="dot" style="top: 25%; right: 25%;"></div>
            <div class="dot" style="top: 50%; left: 25%; transform: translate(0, -50%);"></div>
            <div class="dot" style="top: 50%; right: 25%; transform: translate(0, -50%);"></div>
            <div class="dot" style="bottom: 25%; left: 25%;"></div>
            <div class="dot" style="bottom: 25%; right: 25%;"></div> 
    </div>
    <div class="dice" data-value="6">
        
        <div class="dot" style="top: 25%; left: 25%;"></div>
        <div class="dot" style="top: 25%; right: 25%;"></div>
        <div class="dot" style="top: 50%; left: 25%; transform: translate(0, -50%);"></div>
        <div class="dot" style="top: 50%; right: 25%; transform: translate(0, -50%);"></div>
        <div class="dot" style="bottom: 25%; left: 25%;"></div>
        <div class="dot" style="bottom: 25%; right: 25%;"></div> 
    </div>
</div>
    
    <button id="roll-button">Roll Dice</button>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        const rollButton = document.getElementById('roll-button');
        $(document).ready(function() {
            $('#roll-button').on('click', function() {
                onRollButtonClick();
            });
        });

    async function onRollButtonClick() {
        let response = await fetch('/roll-dice');
        let data = await response.json();
        console.log('return data',data);

        let diceValues = data.diceValue;
        console.log('return data.diceValue',diceValues);

        $('.dice').each(function(index) {
            //console.log('return index', index);
            let dice = $(this);
            console.log('return dice',dice);
            let diceValue = diceValues[index]; // Assuming data is an array of dice values sent from the server
            //console.log('return array',diceValue);
            let dotElements = dice.find('.dot');
            let rotationValue =data.rotationValue[index];

            //dice.attr('data-value', diceValue);
            dice.css('transform', 'rotate(' + rotationValue + ')');
            //console.log('return dotElements',dotElements);
            
            // Clear existing dots
            dice.find('.dot').remove();

            // Based on dice value, append the appropriate dots
            for (let i = 0; i < diceValue; i++) {
                let dot = $(dotElements[i]);
                if (diceValue === 1) {
                    dice.append('<div class="dot" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>');
                } else if (diceValue === 2) {
                    dice.append('<div class="dot" style="top: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; right: 25%;"></div>');
                } else if (diceValue === 3) {
                    dice.append('<div class="dot" style="top: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; right: 25%;"></div>');
                } else if (diceValue === 4) {
                    dice.append('<div class="dot" style="top: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="top: 25%; right: 25%;"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; right: 25%;"></div>');
                } else if (diceValue === 5) {
                    dice.append('<div class="dot" style="top: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="top: 25%; right: 25%;"></div>');
                    dice.append('<div class="dot" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; right: 25%;"></div>');
                } else if (diceValue === 6) {
                    dice.append('<div class="dot" style="top: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="top: 25%; right: 25%;"></div>');
                    dice.append('<div class="dot" style="top: 50%; left: 25%; transform: translate(0, -50%);"></div>');
                    dice.append('<div class="dot" style="top: 50%; right: 25%; transform: translate(0, -50%);"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; left: 25%;"></div>');
                    dice.append('<div class="dot" style="bottom: 25%; right: 25%;"></div>');
                }
            }
        });
    }


        </script>
</body>

</html>
